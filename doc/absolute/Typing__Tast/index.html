<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Typing__Tast (absolute.Typing__Tast)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">absolute</a> &#x00BB; Typing__Tast</nav><h1>Module <code>Typing__Tast</code></h1><p>Typed AST (TAST). This is the AST used by the abstract domain because each sub-formula contains type information. In our context, the type of a formula is an index of an abstract element. We also have types for variables (see `Types.var_ty`) but they work at the value level rather than the level of abstract domains.</p></header><dl><dt class="spec type" id="type-tvariable"><a href="#type-tvariable" class="anchor"></a><code><span class="keyword">type</span> tvariable</code><code> = </code><code>{</code><table class="record"><tr id="type-tvariable.name" class="anchored"><td class="def field"><a href="#type-tvariable.name" class="anchor"></a><code>name : <a href="../Lang/Ast/index.html#type-vname">Lang.Ast.vname</a>;</code></td><td class="doc"><p>Name of the variable as appearing in the model.</p></td></tr><tr id="type-tvariable.ty" class="anchored"><td class="def field"><a href="#type-tvariable.ty" class="anchor"></a><code>ty : <a href="../Core/Types/index.html#type-var_ty">Core.Types.var_ty</a>;</code></td><td class="doc"><p>Type of the variable in the abstract element. If the element is a product, and the variable has two different abstract types in the sub-domains, then the concrete domain is stored.</p></td></tr><tr id="type-tvariable.uid" class="anchored"><td class="def field"><a href="#type-tvariable.uid" class="anchor"></a><code>uid : <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a>;</code></td><td class="doc"><p>UID of the abstract element in which the variable occurs.</p></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-string_of_tvar"><a href="#val-string_of_tvar" class="anchor"></a><code><span class="keyword">val</span> string_of_tvar : <a href="index.html#type-tvariable">tvariable</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-tformula"><a href="#type-tformula" class="anchor"></a><code><span class="keyword">type</span> tformula</code><code> = <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a> * <a href="index.html#type-tformula_">tformula_</a></code></dt><dt class="spec type" id="type-tformula_"><a href="#type-tformula_" class="anchor"></a><code><span class="keyword">and</span> tformula_</code><code> = </code><table class="variant"><tr id="type-tformula_.TFVar" class="anchored"><td class="def constructor"><a href="#type-tformula_.TFVar" class="anchor"></a><code>| </code><code><span class="constructor">TFVar</span> <span class="keyword">of</span> <a href="../Lang/Ast/index.html#type-vname">Lang.Ast.vname</a></code></td></tr><tr id="type-tformula_.TCmp" class="anchored"><td class="def constructor"><a href="#type-tformula_.TCmp" class="anchor"></a><code>| </code><code><span class="constructor">TCmp</span> <span class="keyword">of</span> <a href="../Lang/Ast/index.html#type-bconstraint">Lang.Ast.bconstraint</a></code></td></tr><tr id="type-tformula_.TEquiv" class="anchored"><td class="def constructor"><a href="#type-tformula_.TEquiv" class="anchor"></a><code>| </code><code><span class="constructor">TEquiv</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a> * <a href="index.html#type-tformula">tformula</a></code></td></tr><tr id="type-tformula_.TImply" class="anchored"><td class="def constructor"><a href="#type-tformula_.TImply" class="anchor"></a><code>| </code><code><span class="constructor">TImply</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a> * <a href="index.html#type-tformula">tformula</a></code></td></tr><tr id="type-tformula_.TAnd" class="anchored"><td class="def constructor"><a href="#type-tformula_.TAnd" class="anchor"></a><code>| </code><code><span class="constructor">TAnd</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a> * <a href="index.html#type-tformula">tformula</a></code></td></tr><tr id="type-tformula_.TOr" class="anchored"><td class="def constructor"><a href="#type-tformula_.TOr" class="anchor"></a><code>| </code><code><span class="constructor">TOr</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a> * <a href="index.html#type-tformula">tformula</a></code></td></tr><tr id="type-tformula_.TNot" class="anchored"><td class="def constructor"><a href="#type-tformula_.TNot" class="anchor"></a><code>| </code><code><span class="constructor">TNot</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a></code></td></tr></table></dt><dt class="spec type" id="type-tqformula"><a href="#type-tqformula" class="anchor"></a><code><span class="keyword">type</span> tqformula</code><code> = </code><table class="variant"><tr id="type-tqformula.TQFFormula" class="anchored"><td class="def constructor"><a href="#type-tqformula.TQFFormula" class="anchor"></a><code>| </code><code><span class="constructor">TQFFormula</span> <span class="keyword">of</span> <a href="index.html#type-tformula">tformula</a></code></td></tr><tr id="type-tqformula.TExists" class="anchored"><td class="def constructor"><a href="#type-tqformula.TExists" class="anchor"></a><code>| </code><code><span class="constructor">TExists</span> <span class="keyword">of</span> <a href="index.html#type-tvariable">tvariable</a> * <a href="index.html#type-tqformula">tqformula</a></code></td></tr></table></dt><dd><p>Each variable has a type and belong to an abstract element.</p></dd></dl><dl><dt class="spec value" id="val-tformula_to_formula"><a href="#val-tformula_to_formula" class="anchor"></a><code><span class="keyword">val</span> tformula_to_formula : <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="../Lang/Ast/index.html#type-formula">Lang.Ast.formula</a></code></dt><dt class="spec value" id="val-tqformula_to_qformula"><a href="#val-tqformula_to_qformula" class="anchor"></a><code><span class="keyword">val</span> tqformula_to_qformula : <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <a href="../Lang/Ast/index.html#type-qformula">Lang.Ast.qformula</a></code></dt><dt class="spec value" id="val-string_of_tformula"><a href="#val-string_of_tformula" class="anchor"></a><code><span class="keyword">val</span> string_of_tformula : <a href="../Typing/Ad_type/index.html#type-ad_ty">Typing.Ad_type.ad_ty</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_tqformula"><a href="#val-string_of_tqformula" class="anchor"></a><code><span class="keyword">val</span> string_of_tqformula : <a href="../Typing/Ad_type/index.html#type-ad_ty">Typing.Ad_type.ad_ty</a> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-ctrue"><a href="#val-ctrue" class="anchor"></a><code><span class="keyword">val</span> ctrue : <a href="index.html#type-tformula_">tformula_</a></code></dt><dd><p>Encoding of true and false as formula.</p></dd></dl><dl><dt class="spec value" id="val-cfalse"><a href="#val-cfalse" class="anchor"></a><code><span class="keyword">val</span> cfalse : <a href="index.html#type-tformula_">tformula_</a></code></dt><dt class="spec value" id="val-ctrue'"><a href="#val-ctrue'" class="anchor"></a><code><span class="keyword">val</span> ctrue' : <a href="index.html#type-tformula">tformula</a></code></dt><dt class="spec value" id="val-cfalse'"><a href="#val-cfalse'" class="anchor"></a><code><span class="keyword">val</span> cfalse' : <a href="index.html#type-tformula">tformula</a></code></dt><dt class="spec value" id="val-ttrue"><a href="#val-ttrue" class="anchor"></a><code><span class="keyword">val</span> ttrue : <a href="index.html#type-tqformula">tqformula</a></code></dt><dt class="spec value" id="val-tfalse"><a href="#val-tfalse" class="anchor"></a><code><span class="keyword">val</span> tfalse : <a href="index.html#type-tqformula">tqformula</a></code></dt><dt class="spec value" id="val-vars_of_tformula"><a href="#val-vars_of_tformula" class="anchor"></a><code><span class="keyword">val</span> vars_of_tformula : <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <span><a href="../Lang/Ast/index.html#type-vname">Lang.Ast.vname</a> list</span></code></dt><dt class="spec value" id="val-quantify"><a href="#val-quantify" class="anchor"></a><code><span class="keyword">val</span> quantify : <span><a href="index.html#type-tvariable">tvariable</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a></code></dt><dd><p><code>quantify env f</code> Given a variable environment `env`, existentially quantify the formula `f`. It adds `Exists` in front of `f` for each variable occuring in `f` and `env`. Variables not in `env` but in `f` (and vice-versa) are ignored.</p></dd></dl><dl><dt class="spec value" id="val-quantifiers"><a href="#val-quantifiers" class="anchor"></a><code><span class="keyword">val</span> quantifiers : <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tvariable">tvariable</a> list</span></code></dt><dd><p><code>quantifiers tqf</code> extracts all the existentially quantified variables from `tqf`. Duplicated quantifiers are removed. `Wrong_modelling` is raised if two identical variable's names have two distinct types.</p></dd></dl><dl><dt class="spec value" id="val-quantifier_free_of"><a href="#val-quantifier_free_of" class="anchor"></a><code><span class="keyword">val</span> quantifier_free_of : <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a></code></dt><dd><p><code>quantifier_free_of tqf</code> removes the quantifiers from the formula `tqf`.</p></dd></dl><dl><dt class="spec value" id="val-map_tformula"><a href="#val-map_tformula" class="anchor"></a><code><span class="keyword">val</span> map_tformula : <span>(<a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a></code></dt><dd><p><code>map_formula f tqf</code> applies the function `f` on `tqf` bypassing the quantifiers.</p></dd></dl><dl><dt class="spec value" id="val-merge_formula"><a href="#val-merge_formula" class="anchor"></a><code><span class="keyword">val</span> merge_formula : <span>(<a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a></code></dt><dd><p><code>merge_formula make f1 f2</code>. Given two quantified formulas, merge their quantifier-free part using `make`. The existential binders of identical names are merged together.</p></dd></dl><dl><dt class="spec value" id="val-q_conjunction"><a href="#val-q_conjunction" class="anchor"></a><code><span class="keyword">val</span> q_conjunction : <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tqformula">tqformula</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a></code></dt><dd><p>Merge a list of formula with the conjunctive connector of the given abstract domain type.</p></dd></dl><dl><dt class="spec value" id="val-q_disjunction"><a href="#val-q_disjunction" class="anchor"></a><code><span class="keyword">val</span> q_disjunction : <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a> <span>&#45;&gt;</span> <span><a href="index.html#type-tqformula">tqformula</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-tqformula">tqformula</a></code></dt><dt class="spec value" id="val-neg_formula"><a href="#val-neg_formula" class="anchor"></a><code><span class="keyword">val</span> neg_formula : <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a></code></dt><dd><p>Negate a logic formula. NOT are pushed inwards such that it only occur over FVar. The size of the formula does not increase. The UID is the UID of a domain that support arbitrary logical formula.</p></dd></dl><dl><dt class="spec value" id="val-replace_uid"><a href="#val-replace_uid" class="anchor"></a><code><span class="keyword">val</span> replace_uid : <a href="../Typing/Ad_type/index.html#type-ad_uid">Typing.Ad_type.ad_uid</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a></code></dt><dd><p><code>replace_uid uid tf</code> replaces all the UIDs that are equal to `fst tf` by `uid` in `tf`.</p></dd></dl><dl><dt class="spec value" id="val-instantiate_vars"><a href="#val-instantiate_vars" class="anchor"></a><code><span class="keyword">val</span> instantiate_vars : <span><span>(<a href="../Lang/Ast/index.html#type-vname">Lang.Ast.vname</a> * <span>(<a href="index.html#type-tvariable">tvariable</a> * <a href="../Bounds/Bound_rat/index.html#type-t">Bounds.Bound_rat.t</a>)</span>)</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a> <span>&#45;&gt;</span> <a href="index.html#type-tformula">tformula</a></code></dt></dl></div></body></html>